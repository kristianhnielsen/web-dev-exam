<section
  aria-labelledby="contact-form-title"
  class="bg-white rounded-lg shadow-sm p-8 dark:bg-gray-800"
>
  <h2
    id="contact-form-title"
    class="text-2xl font-bold text-gray-900 mb-6 dark:text-white"
  >
    Send us a message
  </h2>
  <form action="" method="post" class="space-y-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label
          for="first_name"
          class="block text-sm font-medium text-gray-700 mb-2 dark:text-gray-200"
        >
          First Name
        </label>
        <input
          type="text"
          id="first_name"
          name="first_name"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-700 dark:text-white"
          required
        />
      </div>
      <div>
        <label
          for="last_name"
          class="block text-sm font-medium text-gray-700 mb-2 dark:text-gray-200"
        >
          Last Name
        </label>
        <input
          type="text"
          id="last_name"
          name="last_name"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-700 dark:text-white"
          required
        />
      </div>
    </div>

    <div>
      <label
        for="subject"
        class="block text-sm font-medium text-gray-700 mb-2 dark:text-gray-200"
      >
        Subject
      </label>
      <select
        id="subject"
        name="subject"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-700 dark:text-white"
        required
      >
        <option value="">Select a subject</option>
        <option value="General Inquiry">General Inquiry</option>
        <option value="Technical Support">Technical Support</option>
        <option value="Billing Question">Billing Question</option>
        <option value="Partnership Opportunity">Partnership Opportunity</option>
        <option value="Feedback">Feedback</option>
        <option value="Other">Other</option>
      </select>
    </div>

    <div>
      <label
        for="message"
        class="block text-sm font-medium text-gray-700 mb-2 dark:text-gray-200"
      >
        Message
      </label>
      <textarea
        id="message"
        name="message"
        rows="6"
        placeholder="Tell us how we can help you..."
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-700 dark:text-white"
        required
      ></textarea>
    </div>

    <button
      type="submit"
      id="send-message"
      class="w-full bg-indigo-600 text-white py-3 px-6 rounded-md hover:bg-indigo-700 font-medium transition-colors dark:bg-indigo-500 dark:hover:bg-indigo-600"
    >
      Send Message
    </button>
  </form>
</section>

<script>
  const submitBtn = document.getElementById("send-message");
  const message = document.getElementById("message");
  const first_name = document.getElementById("first_name");
  const last_name = document.getElementById("last_name");
  const subject = document.getElementById("subject");

  submitBtn.addEventListener("click", function (e) {
    e.preventDefault();

    const email_subject = encodeURIComponent(
      `Freelance Hub message regarding ${subject.value}`
    );
    const twoNewlines = "%0A%0A";
    let body = "";

    body += encodeURIComponent(message.value);
    body += twoNewlines;
    body += `From: ${first_name.value} ${last_name.value}`;

    const mailto = `mailto:krini24@student.sdu.dk?subject=${email_subject}&body=${body}`;
    window.location.href = mailto;
  });
</script>

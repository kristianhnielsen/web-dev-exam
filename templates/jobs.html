{% extends "base.html" %} {% block title %}Available Job Postings - Freelancer
Hub{% endblock %} {% block head_styles %}{% endblock %} {% block content %} {%
if jobs_data|length > 0 %}

<section
  class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-8 mb-8"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="md:flex md:items-center md:justify-between">
      <div class="md:w-3/4 mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">
          Find Your Next Programming Gig
        </h1>
        
      </div>
    </div>
  </div>
</section>

<div class="lg:col-span-3 mt-8 lg:mt-0">
  <!-- {# Sort Options #} -->
  <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div class="flex items-center space-x-4 mb-4 sm:mb-0">
        <span class="text-sm text-gray-700">Sort by:</span>
        <select
          class="px-3 py-1 border text-gray-700 border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
        >
          <option>Most Recent</option>
          <option>Highest Pay</option>
          <option>Company A-Z</option>
        </select>
      </div>
      
      <!-- {/* Search Bar */} -->
      <div class="rounded-lg flex items-center shadow-lg max-w-2xl border-2 border-indigo-600 ">
        <div class="flex-grow flex items-center px-3">
          <span class="text-gray-400 mr-2">&#128269;</span>
          <input
            type="text"
            placeholder="Search for jobs..."
            class="w-full py-2 focus:outline-none text-gray-700"
          />
        </div>
        <button class="bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 flex items-center">
          Search
          <span class="ml-2">&#10132;</span>
        </button>
      </div>
    </div>
  </div>

  <!-- {# Table for larger screens #} -->
  <div
    class="bg-white rounded-lg shadow-sm overflow-hidden mb-6 hidden lg:block"
  >
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Job
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Location
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Type
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Salary
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Posted
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Skills
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Actions
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        {% for job in jobs_data %}
        <tr class="hover:bg-indigo-50 transition-colors duration-150">
          <td class="px-2 py-4 whitespace-nowrap">
            <div class="flex items-center">
              <div
                class="flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center"
              >
                <span class="text-gray-500 font-bold">
                  {{ job.clientName[0] }}
                </span>
              </div>
              <div class="ml-4">
                <div class="text-sm font-medium text-gray-900">
                  <a href="/jobs/{{ job.id }}" class="hover:text-indigo-600">
                    {{ job.title }}
                  </a>
                </div>
                <div class="text-sm text-gray-500">{{ job.clientName }}</div>
              </div>
            </div>
          </td>
          <td class="px-2 py-4 whitespace-nowrap text-sm text-gray-500 max-w-24 overflow-hidden truncate">
            {{ job.location }}
          </td>
          <td class="px-2 py-4 whitespace-nowrap">
            <span
              class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
            >
              {{ job.jobType }}
            </span>
          </td>
          <td
            class="px-2 py-4 whitespace-nowrap text-sm font-medium text-green-600"
          >
            {% if job["budget.amount"] %} {{ job["budget.amount"] }} {% endif %}
          </td>
          <td class="px-2 py-4 whitespace-nowrap text-sm text-gray-500">
            {{ job.datePosted }}
          </td>
          <td class="px-2 py-4 whitespace-nowrap text-sm text-gray-500">
            <div class="flex flex-wrap gap-1">
              {% for tag in job.skillsRequired[:2] %}
              <span
                class="bg-indigo-100 text-indigo-800 text-xs px-2 py-0.5 rounded-full"
              >
                {{ tag }}
              </span>
              {% endfor %} 
            </div>
          </td>
          <td
            class="px-2 py-4 whitespace-nowrap text-center text-sm font-medium"
          >
              <a
                href="/jobs/{{ job.id }}"
                class="text-indigo-600 hover:text-indigo-900 font-medium"
              >
                View
              </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- {# Card view for mobile & tablet screens #} -->
  <div class="space-y-4 md:block lg:hidden">
    {% for job in jobs_data %}
    <div
      class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"
    >
      <div class="flex justify-between">
        <div class="flex items-center">
          <div
            class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center mr-3"
          >
            <span class="text-gray-500 font-bold">{{ job.clientName[0]}}</span>
          </div>
          <div>
            <h3 class="text-base font-medium text-gray-900">
              <a href="/jobs/{{ job.id }}" class="hover:text-indigo-600">
                {{ job.title }}
              </a>
            </h3>
            <p class="text-sm text-gray-500">{{ job.clientName }}</p>
          </div>
        </div>
        <span class="text-green-600 text-sm font-medium"></span>
          {% if job["budget.amount"] %} {{ job["budget.amount"] }} {% endif %}
        </span>
      </div>

      <div class="mt-2 grid grid-cols-2 gap-1 text-sm">
        <div class="text-gray-500">
          <span>&#128205; {{ job.location }}</span>
        </div>
        <div class="text-gray-500 text-right">
          <span>{{ job.datePosted }}</span>
        </div>
        <div class="text-gray-500">
          <span
            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
          >
            {{ job.jobType }}
          </span>
        </div>
      </div>

      <div class="mt-3 flex flex-wrap gap-1">
        {% for tag in job.skillsRequired %}
        <span
          class="bg-indigo-100 text-indigo-800 text-xs px-2 py-0.5 rounded-full"
        >
          {{ tag }}
        </span>
        {% endfor %}
      </div>

      <div class="mt-3 flex justify-between items-center">
        <a
          href="/jobs/{{ job.id }}"
          class="bg-indigo-600 text-white px-4 py-1 rounded-md hover:bg-indigo-700 text-sm transition-colors"
        >
          View Details
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% else %}
<div class="text-center text-gray-500">
  <p>No job postings available at the moment.</p>
</div>
{% endif %} {% endblock %}
